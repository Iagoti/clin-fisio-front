<div class="table-usuario">
  <div class="table-container">
    <table mat-table [dataSource]="dataSource" class="usuarios-table">
      <ng-container matColumnDef="nmUsuario">
        <th mat-header-cell *matHeaderCellDef>
          <span class="column-label">Nome</span>
        </th>
        <td mat-cell *matCellDef="let row">
          <span class="cell-name">{{ row.nmUsuario }}</span>
        </td>
      </ng-container>
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>
          <span class="column-label">E-mail</span>
        </th>
        <td mat-cell *matCellDef="let row">{{ row.email }}</td>
      </ng-container>
      <ng-container matColumnDef="login">
        <th mat-header-cell *matHeaderCellDef>
          <span class="column-label">Login</span>
        </th>
        <td mat-cell *matCellDef="let row">{{ row.login }}</td>
      </ng-container>
      <ng-container matColumnDef="stUsuario">
        <th mat-header-cell *matHeaderCellDef>
          <span class="column-label">Status</span>
        </th>
        <td mat-cell *matCellDef="let row">
          <span class="status-badge" [class.status-ativo]="row.stUsuario?.codigo === 1" [class.status-inativo]="row.stUsuario?.codigo !== 1">
            <mat-icon class="status-icon">{{ row.stUsuario?.codigo === 1 ? 'check_circle' : 'cancel' }}</mat-icon>
            {{ row.stUsuario?.descricao ?? '—' }}
          </span>
        </td>
      </ng-container>
      <ng-container matColumnDef="tpUsuario">
        <th mat-header-cell *matHeaderCellDef>
          <span class="column-label">Tipo</span>
        </th>
        <td mat-cell *matCellDef="let row">{{ row.tpUsuario?.descricao ?? '—' }}</td>
      </ng-container>
      <ng-container matColumnDef="dtCadastro">
        <th mat-header-cell *matHeaderCellDef>
          <span class="column-label">Cadastro</span>
        </th>
        <td mat-cell *matCellDef="let row">{{ formatarData(row.dtCadastro) }}</td>
      </ng-container>
      <ng-container matColumnDef="acao">
        <th mat-header-cell *matHeaderCellDef>
          <span class="column-label">Ação</span>
        </th>
        <td mat-cell *matCellDef="let row">
          <div class="action-buttons">
            <app-btn-editar-usuario [usuario]="row" (editar)="editar.emit($event)"></app-btn-editar-usuario>
            <app-btn-excluir-usuario [usuario]="row" (excluir)="excluir.emit($event)"></app-btn-excluir-usuario>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns" class="table-row"></tr>

      <tr class="mat-row empty-row" *matNoDataRow>
        <td class="mat-cell" [attr.colspan]="displayedColumns.length">
          <div class="empty-state">
            <div class="empty-icon">
              <mat-icon>group_off</mat-icon>
            </div>
            <p class="empty-title">Nenhum usuário encontrado</p>
            <p class="empty-subtitle">A lista de usuários aparecerá aqui.</p>
          </div>
        </td>
      </tr>
    </table>
  </div>
</div>
